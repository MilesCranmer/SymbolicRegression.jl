<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Types | SymbolicRegression.jl</title>
    <meta name="description" content="Documentation for SymbolicRegression.jl">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/SymbolicRegression.jl/previews/PR483/assets/style.CFahYqTk.css" as="style">
    <link rel="preload stylesheet" href="/SymbolicRegression.jl/previews/PR483/vp-icons.css" as="style">
    
    <script type="module" src="/SymbolicRegression.jl/previews/PR483/assets/app.BJqseSJ4.js"></script>
    <link rel="preload" href="/SymbolicRegression.jl/previews/PR483/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/SymbolicRegression.jl/previews/PR483/assets/chunks/theme.BPVxcvpw.js">
    <link rel="modulepreload" href="/SymbolicRegression.jl/previews/PR483/assets/chunks/framework.DRv5kib6.js">
    <link rel="modulepreload" href="/SymbolicRegression.jl/previews/PR483/assets/types.md.DBiK0sfs.lean.js">
    <link rel="icon" href="/SymbolicRegression.jl/previews/PR483/favicon.ico">
    <script src="/SymbolicRegression.jl/versions.js"></script>
    <script src="/SymbolicRegression.jl/previews/PR483/siteinfo.js"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9a9e638><!--[--><!--]--><!--[--><span tabindex="-1" data-v-492508fc></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-492508fc>Skip to content</a><!--]--><!----><header class="VPNav" data-v-a9a9e638 data-v-f1e365da><div class="VPNavBar" data-v-f1e365da data-v-822684d1><div class="wrapper" data-v-822684d1><div class="container" data-v-822684d1><div class="title" data-v-822684d1><div class="VPNavBarTitle has-sidebar" data-v-822684d1 data-v-0f4f798b><a class="title" href="/SymbolicRegression.jl/previews/PR483/" data-v-0f4f798b><!--[--><!--]--><!--[--><img class="VPImage logo" src="/SymbolicRegression.jl/previews/PR483/logo.svg" width="24" height="24" alt data-v-35a7d0b8><!--]--><span data-v-0f4f798b>SymbolicRegression.jl</span><!--[--><!--]--></a></div></div><div class="content" data-v-822684d1><div class="content-body" data-v-822684d1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-822684d1><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-822684d1 data-v-e6d46098><span id="main-nav-aria-label" class="visually-hidden" data-v-e6d46098> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/SymbolicRegression.jl/previews/PR483/index" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Home</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e6d46098 data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04f5c5e9><span class="text" data-v-04f5c5e9><!----><span data-v-04f5c5e9>Examples</span><span class="vpi-chevron-down text-icon" data-v-04f5c5e9></span></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><div class="items" data-v-7dd3104a><!--[--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/SymbolicRegression.jl/previews/PR483/examples" data-v-acbfed09><!--[--><span data-v-acbfed09>Short Examples</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/SymbolicRegression.jl/previews/PR483/examples/template_expression" data-v-acbfed09><!--[--><span data-v-acbfed09>Template Expressions</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/SymbolicRegression.jl/previews/PR483/examples/parameterized_function" data-v-acbfed09><!--[--><span data-v-acbfed09>Parameterized Expressions</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/SymbolicRegression.jl/previews/PR483/examples/template_parametric_expression" data-v-acbfed09><!--[--><span data-v-acbfed09>Parameterized Template Expressions</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/SymbolicRegression.jl/previews/PR483/examples/custom_types" data-v-acbfed09><!--[--><span data-v-acbfed09>Custom Types</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link" href="/SymbolicRegression.jl/previews/PR483/slurm" data-v-acbfed09><!--[--><span data-v-acbfed09>Using SymbolicRegression.jl on a Cluster</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/SymbolicRegression.jl/previews/PR483/api" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/SymbolicRegression.jl/previews/PR483/losses" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Losses</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/SymbolicRegression.jl/previews/PR483/types" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Types</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/SymbolicRegression.jl/previews/PR483/customization" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Customization</span><!--]--></a><!--]--><!--[--><!----><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-822684d1 data-v-af096f4a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-af096f4a data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-822684d1 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/MilesCranmer/SymbolicRegression.jl" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-d26d30cb><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-822684d1 data-v-925effce data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-04f5c5e9><span class="vpi-more-horizontal icon" data-v-04f5c5e9></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><!----><!--[--><!--[--><!----><div class="group" data-v-925effce><div class="item appearance" data-v-925effce><p class="label" data-v-925effce>Appearance</p><div class="appearance-action" data-v-925effce><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-925effce data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div></div></div><div class="group" data-v-925effce><div class="item social-links" data-v-925effce><div class="VPSocialLinks social-links-list" data-v-925effce data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/MilesCranmer/SymbolicRegression.jl" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-d26d30cb><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--[--><!--[--><div class="VPFlyout VPNolebaseEnhancedReadabilitiesMenu VPNolebaseEnhancedReadabilitiesMenuFlyout" aria-label="Enhanced Readability" role="menuitem" data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04f5c5e9><span class="text" data-v-04f5c5e9><span class="i-icon-park-outline:book-open option-icon" data-v-04f5c5e9></span><!----><span class="vpi-chevron-down text-icon" data-v-04f5c5e9></span></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><!----><!--[--><!--]--></div></div></div><!--]--><!--]--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-822684d1 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-822684d1><div class="divider-line" data-v-822684d1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a9a9e638 data-v-070ab83d><div class="container" data-v-070ab83d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-070ab83d><span class="vpi-align-left menu-icon" data-v-070ab83d></span><span class="menu-text" data-v-070ab83d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-070ab83d data-v-168ddf5d><button data-v-168ddf5d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a9a9e638 data-v-18756405><div class="curtain" data-v-18756405></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-18756405><span class="visually-hidden" id="sidebar-aria-label" data-v-18756405> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0" data-v-9e426adc data-v-a4b0d9bf><!----><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/SymbolicRegression.jl/previews/PR483/index" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Home</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 collapsible" data-v-9e426adc data-v-a4b0d9bf><div class="item" role="button" tabindex="0" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><h2 class="text" data-v-a4b0d9bf>Examples</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-a4b0d9bf><span class="vpi-chevron-right caret-icon" data-v-a4b0d9bf></span></div></div><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/SymbolicRegression.jl/previews/PR483/examples" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Short Examples</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/SymbolicRegression.jl/previews/PR483/examples/template_expression" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Template Expressions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/SymbolicRegression.jl/previews/PR483/examples/parameterized_function" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Parameterized Expressions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/SymbolicRegression.jl/previews/PR483/examples/template_parametric_expression" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Parameterized Template Expressions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/SymbolicRegression.jl/previews/PR483/examples/custom_types" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Custom Types</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/SymbolicRegression.jl/previews/PR483/slurm" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Using SymbolicRegression.jl on a Cluster</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 has-active" data-v-9e426adc data-v-a4b0d9bf><!----><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/SymbolicRegression.jl/previews/PR483/api" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/SymbolicRegression.jl/previews/PR483/losses" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Losses</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/SymbolicRegression.jl/previews/PR483/types" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Types</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/SymbolicRegression.jl/previews/PR483/customization" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Customization</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9a9e638 data-v-91765379><div class="VPDoc has-sidebar has-aside" data-v-91765379 data-v-83890dd9><!--[--><!--]--><div class="container" data-v-83890dd9><div class="aside" data-v-83890dd9><div class="aside-curtain" data-v-83890dd9></div><div class="aside-container" data-v-83890dd9><div class="aside-content" data-v-83890dd9><div class="VPDocAside" data-v-83890dd9 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6d7b3c46 data-v-b38bf2ff><div class="content" data-v-b38bf2ff><div class="outline-marker" data-v-b38bf2ff></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-b38bf2ff>On this page</div><ul class="VPDocOutlineItem root" data-v-b38bf2ff data-v-3f927ebe><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-83890dd9><div class="content-container" data-v-83890dd9><!--[--><!--]--><main class="main" data-v-83890dd9><div style="position:relative;" class="vp-doc _SymbolicRegression_jl_previews_PR483_types" data-v-83890dd9><div><h1 id="Types" tabindex="-1">Types <a class="header-anchor" href="#Types" aria-label="Permalink to &quot;Types {#Types}&quot;">​</a></h1><h2 id="Equations" tabindex="-1">Equations <a class="header-anchor" href="#Equations" aria-label="Permalink to &quot;Equations {#Equations}&quot;">​</a></h2><p>Equations are specified as binary trees with the <code>Node</code> type, defined as follows.</p><details class="jldocstring custom-block" open><summary><a id="DynamicExpressions.NodeModule.Node" href="#DynamicExpressions.NodeModule.Node"><span class="jlbinding">DynamicExpressions.NodeModule.Node</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Node{T,D} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractExpressionNode{T,D}</span></span></code></pre></div><p>Node defines a symbolic expression stored in a binary tree. A single <code>Node</code> instance is one &quot;node&quot; of this tree, and has references to its children. By tracing through the children nodes, you can evaluate or print a given expression.</p><p><strong>Fields</strong></p><ul><li><p><code>degree::UInt8</code>: Degree of the node. 0 for constants, 1 for unary operators, 2 for binary operators, etc. Maximum of <code>D</code>.</p></li><li><p><code>constant::Bool</code>: Whether the node is a constant.</p></li><li><p><code>val::T</code>: Value of the node. If <code>degree==0</code>, and <code>constant==true</code>, this is the value of the constant. It has a type specified by the overall type of the <code>Node</code> (e.g., <code>Float64</code>).</p></li><li><p><code>feature::UInt16</code>: Index of the feature to use in the case of a feature node. Only defined if <code>degree == 0 &amp;&amp; constant == false</code>.</p></li><li><p><code>op::UInt8</code>: If <code>degree==1</code>, this is the index of the operator in <code>operators.unaops</code>. If <code>degree==2</code>, this is the index of the operator in <code>operators.binops</code>. In other words, this is an enum of the operators, and is dependent on the specific <code>OperatorEnum</code> object. Only defined if <code>degree &gt;= 1</code></p></li><li><p><code>children::NTuple{D,Node{T,D}}</code>: Children of the node. Only defined up to <code>degree</code></p></li></ul><p>For accessing and modifying children, use <a href="./@ref"><code>get_child</code></a>, <a href="./@ref"><code>set_child!</code></a>, <a href="./@ref"><code>get_children</code></a>, and <a href="./@ref"><code>set_children!</code></a>.</p><p><strong>Constructors</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Node([T]; val=nothing, feature=nothing, op=nothing, children=nothing, allocator=default_allocator)</span></span>
<span class="line"><span>Node{T}(; val=nothing, feature=nothing, op=nothing, children=nothing, allocator=default_allocator)</span></span></code></pre></div><p>Create a new node in an expression tree. If <code>T</code> is not specified in either the type or the first argument, it will be inferred from the value of <code>val</code> passed or the children. The <code>children</code> keyword is used to pass in a collection of children nodes.</p><p>You may also construct nodes via the convenience operators generated by creating an <code>OperatorEnum</code>.</p><p>You may also choose to specify a default memory allocator for the node other than simply <code>Node{T}()</code> in the <code>allocator</code> keyword argument.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/SymbolicML/DynamicExpressions.jl/blob/v2.3.0/src/Node.jl#L92-L134" target="_blank" rel="noreferrer">source</a><!--]--></span></details><p>When you create an <code>Options</code> object, the operators passed are also re-defined for <code>Node</code> types. This allows you use, e.g., <code>t=Node(; feature=1) * 3f0</code> to create a tree, so long as <code>*</code> was specified as a binary operator. This works automatically for operators defined in <code>Base</code>, although you can also get this to work for user-defined operators by using <code>@extend_operators</code>:</p><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.InterfaceDynamicExpressionsModule.@extend_operators-Tuple{Any}" href="#SymbolicRegression.InterfaceDynamicExpressionsModule.@extend_operators-Tuple{Any}"><span class="jlbinding">SymbolicRegression.InterfaceDynamicExpressionsModule.@extend_operators</span></a> <span class="VPBadge info jlObjectType jlMacro"><!--[-->Macro<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@extend_operators</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> options</span></span></code></pre></div><p>Extends all operators defined in this options object to work on the <code>AbstractExpressionNode</code> type. While by default this is already done for operators defined in <code>Base</code> when you create an options and pass <code>define_helper_functions=true</code>, this does not apply to the user-defined operators. Thus, to do so, you must apply this macro to the operator enum in the same module you have the operators defined.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/InterfaceDynamicExpressions.jl#L319-L328" target="_blank" rel="noreferrer">source</a><!--]--></span></details><p>When using these node constructors, types will automatically be promoted. You can convert the type of a node using <code>convert</code>:</p><div class="warning custom-block"><p class="custom-block-title">Missing docstring.</p><p>Missing docstring for <code>convert(::Type{Node{T1}}, tree::Node{T2}) where {T1, T2}</code>. Check Documenter&#39;s build log for details.</p></div><p>You can set a <code>tree</code> (in-place) with <code>set_node!</code>:</p><details class="jldocstring custom-block" open><summary><a id="DynamicExpressions.NodeModule.set_node!" href="#DynamicExpressions.NodeModule.set_node!"><span class="jlbinding">DynamicExpressions.NodeModule.set_node!</span></a> <span class="VPBadge info jlObjectType jlFunction"><!--[-->Function<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_node!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tree</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractExpressionNode{T}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, new_tree</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractExpressionNode{T}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {T}</span></span></code></pre></div><p>Set every field of <code>tree</code> equal to the corresponding field of <code>new_tree</code>.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/SymbolicML/DynamicExpressions.jl/blob/v2.3.0/src/Node.jl#L467-L471" target="_blank" rel="noreferrer">source</a><!--]--></span></details><p>You can create a copy of a node with <code>copy_node</code>:</p><details class="jldocstring custom-block" open><summary><a id="DynamicExpressions.NodeModule.copy_node-Tuple{Node}" href="#DynamicExpressions.NodeModule.copy_node-Tuple{Node}"><span class="jlbinding">DynamicExpressions.NodeModule.copy_node</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">copy_node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tree</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractExpressionNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; break_sharing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Val{BS}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {BS}</span></span></code></pre></div><p>Copy a node, recursively copying all children nodes. This is more efficient than the built-in copy.</p><p>If <code>break_sharing</code> is set to <code>Val(true)</code>, sharing in a tree will be ignored.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/SymbolicML/DynamicExpressions.jl/blob/v2.3.0/src/base.jl#L488-L495" target="_blank" rel="noreferrer">source</a><!--]--></span></details><h2 id="Expressions" tabindex="-1">Expressions <a class="header-anchor" href="#Expressions" aria-label="Permalink to &quot;Expressions {#Expressions}&quot;">​</a></h2><p>Expressions are represented using the <code>Expression</code> type, which combines the raw <code>Node</code> type with an <code>OperatorEnum</code>.</p><details class="jldocstring custom-block" open><summary><a id="DynamicExpressions.ExpressionModule.Expression" href="#DynamicExpressions.ExpressionModule.Expression"><span class="jlbinding">DynamicExpressions.ExpressionModule.Expression</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Expression{T, N, D} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractExpression{T, N}</span></span></code></pre></div><p>(Experimental) Defines a high-level, user-facing, expression type that encapsulates an expression tree (like <code>Node</code>) along with associated metadata for evaluation and rendering.</p><p><strong>Fields</strong></p><ul><li><p><code>tree::N</code>: The root node of the raw expression tree.</p></li><li><p><code>metadata::Metadata{D}</code>: A named tuple of settings for the expression, such as the operators and variable names.</p></li></ul><p><strong>Constructors</strong></p><ul><li><p><code>Expression(tree::AbstractExpressionNode, metadata::NamedTuple)</code>: Construct from the fields</p></li><li><p><code>@parse_expression(expr, operators=operators, variable_names=variable_names, node_type=Node)</code>: Parse a Julia expression with a given context and create an Expression object.</p></li></ul><p><strong>Usage</strong></p><p>This type is intended for end-users to interact with and manipulate expressions at a high level, abstracting away the complexities of the underlying expression tree operations.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/SymbolicML/DynamicExpressions.jl/blob/v2.3.0/src/Expression.jl#L71-L92" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.CoreModule.ExpressionSpecModule.ExpressionSpec" href="#SymbolicRegression.CoreModule.ExpressionSpecModule.ExpressionSpec"><span class="jlbinding">SymbolicRegression.CoreModule.ExpressionSpecModule.ExpressionSpec</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ExpressionSpec </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractExpressionSpec</span></span></code></pre></div><p>(Experimental) Default specification for basic expressions without special options.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/ExpressionSpec.jl#L7-L11" target="_blank" rel="noreferrer">source</a><!--]--></span></details><p>These types allow you to define and manipulate expressions with a clear separation between the structure and the operators used.</p><h3 id="Template-Expressions" tabindex="-1">Template Expressions <a class="header-anchor" href="#Template-Expressions" aria-label="Permalink to &quot;Template Expressions {#Template-Expressions}&quot;">​</a></h3><p>Template expressions allow you to specify predefined structures and constraints for your expressions. These use <code>ComposableExpressions</code> as their internal expression type, which makes them flexible for creating a structure out of a single function.</p><p>These use the <code>TemplateStructure</code> type to define how expressions should be combined and evaluated.</p><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.TemplateExpressionModule.TemplateExpression" href="#SymbolicRegression.TemplateExpressionModule.TemplateExpression"><span class="jlbinding">SymbolicRegression.TemplateExpressionModule.TemplateExpression</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TemplateExpression{T,F,N,E,TS,D} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractExpression{T,N}</span></span></code></pre></div><p>A symbolic expression that allows the combination of multiple sub-expressions in a structured way, with constraints on variable usage.</p><p><code>TemplateExpression</code> is designed for symbolic regression tasks where domain-specific knowledge or constraints must be imposed on the model&#39;s structure.</p><p><strong>Constructor</strong></p><ul><li><code>TemplateExpression(trees; structure, operators, variable_names)</code><ul><li><p><code>trees</code>: A <code>NamedTuple</code> holding the sub-expressions (e.g., <code>f = Expression(...)</code>, <code>g = Expression(...)</code>).</p></li><li><p><code>structure</code>: A <code>TemplateStructure</code> which holds functions that define how the sub-expressions are combined in different contexts.</p></li><li><p><code>operators</code>: An <code>OperatorEnum</code> that defines the allowed operators for the sub-expressions.</p></li><li><p><code>variable_names</code>: An optional <code>Vector</code> of <code>String</code> that defines the names of the variables in the dataset.</p></li></ul></li></ul><p><strong>Example</strong></p><p>Let&#39;s create an example <code>TemplateExpression</code> that combines two sub-expressions <code>f(x1, x2)</code> and <code>g(x3)</code>:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Define operators and variable names</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">options </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; binary_operators</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), unary_operators</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sin, cos))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">operators </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">operators</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">variable_names </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Create sub-expressions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Expression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Node{Float64}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; feature</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); operators, variable_names)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Expression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Node{Float64}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; feature</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); operators, variable_names)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Expression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Node{Float64}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; feature</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); operators, variable_names)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Create TemplateExpression</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">example_expr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (; f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x1, g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x3)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">st_expr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TemplateExpression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    example_expr;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    structure</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TemplateStructure{(:f, :g)}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ((; f, g), (x1, x2, x3)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x1, x2)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> g</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x3)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    operators,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    variable_names,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>When fitting a model in SymbolicRegression.jl, you can provide <code>expression_spec=TemplateExpressionSpec(; structure=TemplateStructure(...))</code> as an option. The <code>variable_constraints</code> will constraint <code>f</code> to only have access to <code>x1</code> and <code>x2</code>, and <code>g</code> to only have access to <code>x3</code>.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/TemplateExpression.jl#L243-L292" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.TemplateExpressionModule.TemplateStructure" href="#SymbolicRegression.TemplateExpressionModule.TemplateStructure"><span class="jlbinding">SymbolicRegression.TemplateExpressionModule.TemplateStructure</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TemplateStructure{K,E,NF} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Function</span></span></code></pre></div><p>A struct that defines a prescribed structure for a <code>TemplateExpression</code>, including functions that define the result in different contexts.</p><p>The <code>K</code> parameter is used to specify the symbols representing the inner expressions. If not declared using the constructor <code>TemplateStructure{K}(...)</code>, the keys of the <code>variable_constraints</code> <code>NamedTuple</code> will be used to infer this.</p><p>The <code>Kp</code> parameter is used to specify the symbols representing the parameters, if any.</p><p><strong>Fields</strong></p><ul><li><p><code>combine</code>: Required function taking a <code>NamedTuple</code> of <code>ComposableExpression</code>s (sharing the keys <code>K</code>), and then tuple representing the data of <code>ValidVector</code>s. For example, <code>((; f, g), (x1, x2, x3)) -&gt; f(x1, x2) + g(x3)</code> would be a valid <code>combine</code> function. You may also re-use the callable expressions and use different inputs, such as <code>((; f, g), (x1, x2)) -&gt; f(x1 + g(x2)) - g(x1)</code> is another valid choice.</p></li><li><p><code>num_features</code>: Optional <code>NamedTuple</code> of function keys =&gt; integers representing the number of features used by each expression. If not provided, it will be inferred using the <code>combine</code> function. For example, if <code>f</code> takes two arguments, and <code>g</code> takes one, then <code>num_features = (; f=2, g=1)</code>.</p></li><li><p><code>num_parameters</code>: Optional <code>NamedTuple</code> of parameter keys =&gt; integers representing the number of parameters required for each parameter vector.</p></li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/TemplateExpression.jl#L81-L105" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.TemplateExpressionModule.TemplateExpressionSpec" href="#SymbolicRegression.TemplateExpressionModule.TemplateExpressionSpec"><span class="jlbinding">SymbolicRegression.TemplateExpressionModule.TemplateExpressionSpec</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TemplateExpressionSpec </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractExpressionSpec</span></span></code></pre></div><p>(Experimental) Specification for template expressions with pre-defined structure.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/TemplateExpression.jl#L916-L920" target="_blank" rel="noreferrer">source</a><!--]--></span></details><p>You can use the <code>@template_spec</code> macro as an easy way to create a <code>TemplateExpressionSpec</code>:</p><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.TemplateExpressionMacroModule.@template_spec" href="#SymbolicRegression.TemplateExpressionMacroModule.@template_spec"><span class="jlbinding">SymbolicRegression.TemplateExpressionMacroModule.@template_spec</span></a> <span class="VPBadge info jlObjectType jlMacro"><!--[-->Macro<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@template_spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    expressions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f, g, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [parameters</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">size1, p2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">size2, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [num_features</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n1, g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n2, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x1, x2, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # template function body</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>Creates a TemplateExpressionSpec with a custom template structure for symbolic regression.</p><p>This macro allows defining structured symbolic expressions with constrained composition of sub-expressions and parameterized components.</p><p><strong>Arguments</strong></p><ul><li><p><code>expressions</code>: A tuple of function names that will be composed in the template.</p></li><li><p><code>parameters</code>: Optional. A named tuple of parameter name-size pairs. These parameters can be indexed and accessed in the template function.</p></li><li><p><code>num_features</code>: Optional. A named tuple specifying how many features each expression function can access. Normally this will be inferred automatically from the template function.</p></li></ul><p><strong>Example</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">expr_spec </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> @template_spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    parameters</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, p2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, p3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    expressions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f, g),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x1, x2, class</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p1[class] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> g</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x1, x2, p2[class]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p3[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/TemplateExpressionMacro.jl#L3-L33" target="_blank" rel="noreferrer">source</a><!--]--></span></details><p>Composable expressions are used internally by <code>TemplateExpression</code> and allow you to combine multiple expressions together.</p><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.ComposableExpressionModule.ComposableExpression" href="#SymbolicRegression.ComposableExpressionModule.ComposableExpression"><span class="jlbinding">SymbolicRegression.ComposableExpressionModule.ComposableExpression</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ComposableExpression{T,N,D} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractComposableExpression{T,N}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractExpression{T,N}</span></span></code></pre></div><p>A symbolic expression representing a mathematical formula as an expression tree (<code>tree::N</code>) with associated metadata (<code>metadata::Metadata{D}</code>). Used to construct and manipulate expressions in symbolic regression tasks.</p><p>Example:</p><p>Create variables <code>x1</code> and <code>x2</code>, and build an expression <code>f = x1 * sin(x2)</code>:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">operators </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> OperatorEnum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; binary_operators</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), unary_operators</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sin, cos))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">variable_names </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ComposableExpression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Float64; feature</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); operators, variable_names)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ComposableExpression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Float64; feature</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); operators, variable_names)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x2)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ^This now references the first and second arguments of things passed to it:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x1, x1) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># == x1 * sin(x1)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">randn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">randn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># == randn(5) .* sin.(randn(5))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># You can even pass it to itself:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f, f) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># == (x1 * sin(x2)) * sin((x1 * sin(x2)))</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/ComposableExpression.jl#L28-L51" target="_blank" rel="noreferrer">source</a><!--]--></span></details><h3 id="Parametric-Expressions" tabindex="-1">Parametric Expressions <a class="header-anchor" href="#Parametric-Expressions" aria-label="Permalink to &quot;Parametric Expressions {#Parametric-Expressions}&quot;">​</a></h3><p>Parametric expressions are a type of expression that includes parameters which can be optimized during the search.</p><details class="jldocstring custom-block" open><summary><a id="DynamicExpressions.ParametricExpressionModule.ParametricExpression" href="#DynamicExpressions.ParametricExpressionModule.ParametricExpression"><span class="jlbinding">DynamicExpressions.ParametricExpressionModule.ParametricExpression</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ParametricExpression{T,N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ParametricNode{T}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,D</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractExpression{T,N}</span></span></code></pre></div><p>(Experimental) An expression to store parameters for a tree</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/SymbolicML/DynamicExpressions.jl/blob/v2.3.0/src/ParametricExpression.jl#L78-L82" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="DynamicExpressions.ParametricExpressionModule.ParametricNode" href="#DynamicExpressions.ParametricExpressionModule.ParametricNode"><span class="jlbinding">DynamicExpressions.ParametricExpressionModule.ParametricNode</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><p>A type of expression node that also stores a parameter index</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/SymbolicML/DynamicExpressions.jl/blob/v2.3.0/src/ParametricExpression.jl#L51" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.ParametricExpressionModule.ParametricExpressionSpec" href="#SymbolicRegression.ParametricExpressionModule.ParametricExpressionSpec"><span class="jlbinding">SymbolicRegression.ParametricExpressionModule.ParametricExpressionSpec</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ParametricExpressionSpec </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractExpressionSpec</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">Warning</p><p><code>ParametricExpressionSpec</code> is no longer recommended. Please use <code>@template_spec</code> (creating a <code>TemplateExpressionSpec</code>) instead.</p></div><p>(Experimental) Specification for parametric expressions with configurable maximum parameters.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/ParametricExpression.jl#L196-L203" target="_blank" rel="noreferrer">source</a><!--]--></span></details><p>These types allow you to define expressions with parameters that can be tuned to fit the data better. You can specify the maximum number of parameters using the <code>expression_options</code> argument in <code>SRRegressor</code>.</p><h2 id="Population" tabindex="-1">Population <a class="header-anchor" href="#Population" aria-label="Permalink to &quot;Population {#Population}&quot;">​</a></h2><p>Groups of equations are given as a population, which is an array of trees tagged with cost, loss, and birthdate–-these values are given in the <code>PopMember</code>.</p><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.PopulationModule.Population" href="#SymbolicRegression.PopulationModule.Population"><span class="jlbinding">SymbolicRegression.PopulationModule.Population</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Population</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pop</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Array{PopMember{T,L}, 1}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Create population from list of PopMembers.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/Population.jl#L19-L23" target="_blank" rel="noreferrer">source</a><!--]--></span><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Population</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dataset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dataset{T,L}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           population_size, nlength</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           nfeatures</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Create random population and evaluate them on the dataset.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/Population.jl#L28-L34" target="_blank" rel="noreferrer">source</a><!--]--></span><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Population</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractMatrix{T}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{T}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           population_size, nlength</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, nfeatures</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           loss_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nothing)</span></span></code></pre></div><p>Create random population and score them on the dataset.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/Population.jl#L62-L69" target="_blank" rel="noreferrer">source</a><!--]--></span></details><h2 id="Population-members" tabindex="-1">Population members <a class="header-anchor" href="#Population-members" aria-label="Permalink to &quot;Population members {#Population-members}&quot;">​</a></h2><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.PopMemberModule.PopMember" href="#SymbolicRegression.PopMemberModule.PopMember"><span class="jlbinding">SymbolicRegression.PopMemberModule.PopMember</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PopMember</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractExpression{T}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, cost</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">L</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, loss</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">L</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Create a population member with a birth date at the current time. The type of the <code>Node</code> may be different from the type of the cost and loss.</p><p><strong>Arguments</strong></p><ul><li><p><code>t::AbstractExpression{T}</code>: The tree for the population member.</p></li><li><p><code>cost::L</code>: The cost (normalized to a baseline, and offset by a complexity penalty)</p></li><li><p><code>loss::L</code>: The raw loss to assign.</p></li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/PopMember.jl#L62-L74" target="_blank" rel="noreferrer">source</a><!--]--></span><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PopMember</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dataset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dataset{T,L}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractExpression{T}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractOptions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Create a population member with a birth date at the current time. Automatically compute the cost for this tree.</p><p><strong>Arguments</strong></p><ul><li><p><code>dataset::Dataset{T,L}</code>: The dataset to evaluate the tree on.</p></li><li><p><code>t::AbstractExpression{T}</code>: The tree for the population member.</p></li><li><p><code>options::AbstractOptions</code>: What options to use.</p></li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/PopMember.jl#L107-L122" target="_blank" rel="noreferrer">source</a><!--]--></span></details><h2 id="Hall-of-Fame" tabindex="-1">Hall of Fame <a class="header-anchor" href="#Hall-of-Fame" aria-label="Permalink to &quot;Hall of Fame {#Hall-of-Fame}&quot;">​</a></h2><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.HallOfFameModule.HallOfFame" href="#SymbolicRegression.HallOfFameModule.HallOfFame"><span class="jlbinding">SymbolicRegression.HallOfFameModule.HallOfFame</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HallOfFame{T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DATA_TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,L</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LOSS_TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractExpression{T}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>List of the best members seen all time in <code>.members</code>, with <code>.members[c]</code> being the best member seen at complexity c. Including only the members which actually have been set, you can run <code>.members[exists]</code>.</p><p><strong>Fields</strong></p><ul><li><p><code>members::Array{PopMember{T,L,N},1}</code>: List of the best members seen all time. These are ordered by complexity, with <code>.members[1]</code> the member with complexity 1.</p></li><li><p><code>exists::Array{Bool,1}</code>: Whether the member at the given complexity has been set.</p></li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/HallOfFame.jl#L13-L25" target="_blank" rel="noreferrer">source</a><!--]--></span></details><h2 id="Dataset" tabindex="-1">Dataset <a class="header-anchor" href="#Dataset" aria-label="Permalink to &quot;Dataset {#Dataset}&quot;">​</a></h2><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.CoreModule.DatasetModule.Dataset" href="#SymbolicRegression.CoreModule.DatasetModule.Dataset"><span class="jlbinding">SymbolicRegression.CoreModule.DatasetModule.Dataset</span></a> <span class="VPBadge info jlObjectType jlType"><!--[-->Type<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Dataset{T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DATA_TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,L</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LOSS_TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Abstract type for all dataset types in SymbolicRegression.jl.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/Dataset.jl#L10-L14" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="SymbolicRegression.LossFunctionsModule.update_baseline_loss!" href="#SymbolicRegression.LossFunctionsModule.update_baseline_loss!"><span class="jlbinding">SymbolicRegression.LossFunctionsModule.update_baseline_loss!</span></a> <span class="VPBadge info jlObjectType jlFunction"><!--[-->Function<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">update_baseline_loss!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dataset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dataset{T,L}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DATA_TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,L</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LOSS_TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Update the baseline loss of the dataset using the loss function specified in <code>options</code>.</p><span class="VPBadge info source-link"><!--[--><a href="https://github.com/MilesCranmer/SymbolicRegression.jl/blob/5c2e80253a9b5612454ad9c81805f276d93008b8/src/LossFunctions.jl#L214-L218" target="_blank" rel="noreferrer">source</a><!--]--></span></details></div></div></main><footer class="VPDocFooter" data-v-83890dd9 data-v-4f9813fa><!--[--><!--]--><div class="edit-info" data-v-4f9813fa><div class="edit-link" data-v-4f9813fa><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/MilesCranmer/SymbolicRegression.jl/edit/master/docs/src/types.md" target="_blank" rel="noreferrer" data-v-4f9813fa><!--[--><span class="vpi-square-pen edit-link-icon" data-v-4f9813fa></span> Edit this page<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4f9813fa><span class="visually-hidden" id="doc-footer-aria-label" data-v-4f9813fa>Pager</span><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link prev" href="/SymbolicRegression.jl/previews/PR483/losses" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Previous page</span><span class="title" data-v-4f9813fa>Losses</span><!--]--></a></div><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link next" href="/SymbolicRegression.jl/previews/PR483/customization" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Next page</span><span class="title" data-v-4f9813fa>Customization</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-a9a9e638 data-v-c970a860><div class="container" data-v-c970a860><p class="message" data-v-c970a860>Made with <a href="https://documenter.juliadocs.org/stable/" target="_blank"><strong>Documenter.jl</strong></a>, <a href="https://vitepress.dev" target="_blank"><strong>VitePress</strong></a> and <a href="https://luxdl.github.io/DocumenterVitepress.jl/stable/" target="_blank"><strong>DocumenterVitepress.jl</strong></a> <br></p><p class="copyright" data-v-c970a860>© Copyright 2025.</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api.md\":\"BeBAtap0\",\"customization.md\":\"WK12kyaX\",\"examples.md\":\"DRqPbhn8\",\"examples_custom_types.md\":\"BNVAC7N5\",\"examples_parameterized_function.md\":\"pMqkyi8n\",\"examples_template_expression.md\":\"Btj0owMh\",\"examples_template_parametric_expression.md\":\"CpxpYcF6\",\"index.md\":\"CQJzzr8W\",\"index_base.md\":\"CLeTez8U\",\"losses.md\":\"EK3C_wjx\",\"slurm.md\":\"BpzdM8UD\",\"types.md\":\"DBiK0sfs\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"SymbolicRegression.jl\",\"description\":\"Documentation for SymbolicRegression.jl\",\"base\":\"/SymbolicRegression.jl/previews/PR483/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"outline\":\"deep\",\"logo\":{\"src\":\"/logo.svg\",\"width\":24,\"height\":24},\"search\":{\"provider\":\"local\",\"options\":{\"detailedView\":true}},\"nav\":[{\"text\":\"Home\",\"link\":\"/index\"},{\"text\":\"Examples\",\"collapsed\":false,\"items\":[{\"text\":\"Short Examples\",\"link\":\"/examples\"},{\"text\":\"Template Expressions\",\"link\":\"/examples/template_expression\"},{\"text\":\"Parameterized Expressions\",\"link\":\"/examples/parameterized_function\"},{\"text\":\"Parameterized Template Expressions\",\"link\":\"/examples/template_parametric_expression\"},{\"text\":\"Custom Types\",\"link\":\"/examples/custom_types\"},{\"text\":\"Using SymbolicRegression.jl on a Cluster\",\"link\":\"/slurm\"}]},{\"text\":\"API\",\"link\":\"/api\"},{\"text\":\"Losses\",\"link\":\"/losses\"},{\"text\":\"Types\",\"link\":\"/types\"},{\"text\":\"Customization\",\"link\":\"/customization\"},{\"component\":\"VersionPicker\"}],\"sidebar\":[{\"text\":\"Home\",\"link\":\"/index\"},{\"text\":\"Examples\",\"collapsed\":false,\"items\":[{\"text\":\"Short Examples\",\"link\":\"/examples\"},{\"text\":\"Template Expressions\",\"link\":\"/examples/template_expression\"},{\"text\":\"Parameterized Expressions\",\"link\":\"/examples/parameterized_function\"},{\"text\":\"Parameterized Template Expressions\",\"link\":\"/examples/template_parametric_expression\"},{\"text\":\"Custom Types\",\"link\":\"/examples/custom_types\"},{\"text\":\"Using SymbolicRegression.jl on a Cluster\",\"link\":\"/slurm\"}]},{\"text\":\"API\",\"link\":\"/api\"},{\"text\":\"Losses\",\"link\":\"/losses\"},{\"text\":\"Types\",\"link\":\"/types\"},{\"text\":\"Customization\",\"link\":\"/customization\"}],\"editLink\":{\"pattern\":\"https://github.com/MilesCranmer/SymbolicRegression.jl/edit/master/docs/src/:path\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/MilesCranmer/SymbolicRegression.jl\"}],\"footer\":{\"message\":\"Made with <a href=\\\"https://documenter.juliadocs.org/stable/\\\" target=\\\"_blank\\\"><strong>Documenter.jl</strong></a>, <a href=\\\"https://vitepress.dev\\\" target=\\\"_blank\\\"><strong>VitePress</strong></a> and <a href=\\\"https://luxdl.github.io/DocumenterVitepress.jl/stable/\\\" target=\\\"_blank\\\"><strong>DocumenterVitepress.jl</strong></a> <br>\",\"copyright\":\"© Copyright 2025.\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>